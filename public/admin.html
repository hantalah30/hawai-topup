<!doctype html>
<html lang="id">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Omega Command Center</title>
    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&family=Inter:wght@300;400;600&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <style>
        :root {
            --bg-dark: #050510;
            --card-glass: rgba(20, 30, 50, 0.6);
            --border-glass: rgba(100, 200, 255, 0.1);
            --neon-blue: #00f3ff;
            --neon-pink: #ff0055;
            --neon-purple: #bc13fe;
            --text-main: #e0e6ed;
            --text-muted: #94a3b8;
        }

        body {
            background-color: var(--bg-dark);
            background-image:
                radial-gradient(circle at 10% 20%, rgba(0, 243, 255, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(188, 19, 254, 0.1) 0%, transparent 20%);
            color: var(--text-main);
            font-family: "Inter", sans-serif;
            overflow-x: hidden;
        }

        /* --- ANIMATIONS --- */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes slideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes pulseGlow {
            0% {
                box-shadow: 0 0 5px var(--neon-blue);
            }

            50% {
                box-shadow: 0 0 20px var(--neon-blue);
            }

            100% {
                box-shadow: 0 0 5px var(--neon-blue);
            }
        }

        /* --- COMPONENTS --- */
        .glass-card {
            background: var(--card-glass);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--border-glass);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            margin-bottom: 25px;
            overflow: hidden;
            transition: 0.3s;
            animation: slideUp 0.5s ease-out;
        }

        .glass-card:hover {
            border-color: rgba(0, 243, 255, 0.3);
        }

        .glass-header {
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-bottom: 1px solid var(--border-glass);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        h1,
        h2,
        h3,
        h4,
        h5 {
            font-family: "Rajdhani", sans-serif;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        /* --- FORMS --- */
        .form-control,
        .form-select {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-glass);
            color: #fff;
            border-radius: 8px;
            padding: 10px 15px;
            font-family: "Inter", sans-serif;
        }

        .form-control:focus,
        .form-select:focus {
            background: rgba(0, 0, 0, 0.5);
            border-color: var(--neon-blue);
            box-shadow: 0 0 10px rgba(0, 243, 255, 0.2);
            color: #fff;
        }

        /* --- BUTTONS --- */
        .btn {
            border-radius: 8px;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 1px;
            transition: 0.3s;
        }

        .btn-neon {
            background: var(--neon-blue);
            color: #000;
            border: none;
        }

        .btn-neon:hover {
            background: #fff;
            box-shadow: 0 0 15px var(--neon-blue);
            color: #000;
        }

        .btn-outline-neon {
            border: 1px solid var(--neon-blue);
            color: var(--neon-blue);
            background: transparent;
        }

        .btn-outline-neon:hover {
            background: var(--neon-blue);
            color: #000;
            box-shadow: 0 0 10px var(--neon-blue);
        }

        .btn-danger-glow {
            background: rgba(255, 0, 85, 0.2);
            border: 1px solid var(--neon-pink);
            color: var(--neon-pink);
        }

        .btn-danger-glow:hover {
            background: var(--neon-pink);
            color: #fff;
            box-shadow: 0 0 15px var(--neon-pink);
        }

        /* --- NAV PILLS --- */
        .nav-pills {
            gap: 10px;
            margin-bottom: 30px;
        }

        .nav-pills .nav-link {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-muted);
            border: 1px solid var(--border-glass);
            border-radius: 10px;
            padding: 12px 20px;
            transition: 0.3s;
        }

        .nav-pills .nav-link.active {
            background: linear-gradient(45deg, rgba(0, 243, 255, 0.2), rgba(0, 243, 255, 0));
            border-color: var(--neon-blue);
            color: #fff;
            text-shadow: 0 0 10px rgba(0, 243, 255, 0.5);
        }

        /* --- TABLE --- */
        .table {
            --bs-table-bg: transparent;
            color: var(--text-main);
            border-color: var(--border-glass);
        }

        .table thead th {
            background: rgba(255, 255, 255, 0.05);
            color: var(--neon-blue);
            font-weight: 600;
            border-bottom: 2px solid var(--border-glass);
            text-transform: uppercase;
            font-size: 0.8rem;
        }

        .table tbody tr {
            transition: 0.2s;
        }

        .table tbody tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .table td {
            vertical-align: middle;
            border-bottom: 1px solid var(--border-glass);
        }

        /* --- LOGIN OVERLAY --- */
        #loginOverlay {
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            background-image: url('https://w0.peakpx.com/wallpaper/189/680/HD-wallpaper-cyberpunk-city-scifi.jpg');
            background-size: cover;
            background-position: center;
        }

        #loginOverlay::before {
            content: "";
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
        }

        .login-card {
            position: relative;
            width: 400px;
            padding: 40px;
            text-align: center;
            border: 1px solid var(--neon-blue);
            box-shadow: 0 0 30px rgba(0, 243, 255, 0.2);
            background: rgba(10, 15, 25, 0.9);
            border-radius: 20px;
        }

        /* --- UTILS --- */
        .preview-img {
            width: 45px;
            height: 45px;
            border-radius: 8px;
            border: 2px solid var(--border-glass);
            object-fit: cover;
            transition: 0.3s;
        }

        .preview-img:hover {
            transform: scale(1.5);
            border-color: var(--neon-blue);
            z-index: 10;
            position: relative;
        }

        .badge-cyber {
            background: rgba(0, 243, 255, 0.1);
            border: 1px solid var(--neon-blue);
            color: var(--neon-blue);
            font-size: 0.7rem;
            padding: 5px 10px;
            border-radius: 4px;
        }

        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #000;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--neon-blue);
            border-radius: 3px;
        }
    </style>
</head>

<body class="p-3 p-md-4">

    <!-- LOGIN OVERLAY -->
    <div id="loginOverlay">
        <div class="login-card glass-card">
            <h1 class="mb-2 text-white" style="text-shadow: 0 0 10px var(--neon-blue);">OMEGA ADMIN</h1>
            <p class="text-muted small mb-4">SECURE GATEWAY ACCESS</p>
            <button onclick="loginWithGoogle()" class="btn btn-neon w-100 py-3 mb-3">
                <i class="fab fa-google me-2"></i> AUTHENTICATE
            </button>
            <div id="authStatus" class="small text-secondary fw-bold">SYSTEM STANDBY...</div>
        </div>
    </div>

    <!-- MAIN DASHBOARD -->
    <div class="container-fluid pt-2" id="adminPanel" style="display: none; max-width: 1400px;">

        <!-- HEADER -->
        <div class="glass-card glass-header mb-4">
            <div class="d-flex align-items-center gap-3">
                <div class="rounded-circle d-flex align-items-center justify-content-center bg-dark border border-info"
                    style="width: 50px; height: 50px;">
                    <i class="fas fa-bolt text-info fs-4"></i>
                </div>
                <div>
                    <h4 class="m-0 text-white">HAWAI OMEGA SYSTEM</h4>
                    <span class="badge bg-danger" style="font-size: 0.7rem;">LIVE PRODUCTION</span>
                </div>
            </div>
            <div class="d-flex gap-3 align-items-center">
                <div class="text-end d-none d-md-block">
                    <div id="adminName" class="fw-bold text-info" style="font-size: 0.9rem;">Admin</div>
                    <div class="text-muted" style="font-size: 0.8rem;">Superuser</div>
                </div>
                <button onclick="logout()" class="btn btn-danger-glow btn-sm px-3 py-2">
                    <i class="fas fa-power-off"></i>
                </button>
            </div>
        </div>

        <!-- NAVIGATION -->
        <ul class="nav nav-pills justify-content-center justify-content-md-start">
            <li class="nav-item">
                <button class="nav-link active" data-bs-toggle="pill" data-bs-target="#tab-products">
                    <i class="fas fa-gamepad me-2"></i> PRODUK
                </button>
            </li>
            <li class="nav-item">
                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#tab-assets">
                    <i class="fas fa-images me-2"></i> ASSETS
                </button>
            </li>
            <li class="nav-item">
                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#tab-users" onclick="loadUsers()">
                    <i class="fas fa-users me-2"></i> USERS
                </button>
            </li>
            <li class="nav-item">
                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#tab-vouchers" onclick="loadVouchers()">
                    <i class="fas fa-ticket-alt me-2"></i> VOUCHERS
                </button>
            </li>
            <li class="nav-item">
                <button class="nav-link" data-bs-toggle="pill" data-bs-target="#tab-api">
                    <i class="fas fa-key me-2"></i> API CONFIG
                </button>
            </li>
        </ul>

        <!-- CONTENT AREA -->
        <div class="tab-content">

            <!-- PRODUCT TAB -->
            <div class="tab-pane fade show active" id="tab-products">
                <div class="glass-card p-4">
                    <!-- TOOLBAR -->
                    <div class="d-flex gap-2 mb-4 flex-wrap align-items-center">
                        <div class="btn-group shadow-sm">
                            <button id="btnSync" onclick="syncDigiflazz()" class="btn btn-outline-neon btn-sm px-3">
                                <i class="fas fa-sync me-1"></i> SYNC DIGI
                            </button>
                        </div>

                        <div class="d-flex gap-2 ms-auto bg-dark p-1 rounded-3 border border-secondary">
                            <select id="filterBrand"
                                class="form-select form-select-sm border-0 bg-transparent text-white"
                                style="width: 150px" onchange="filterProducts()">
                                <option value="">FILTER...</option>
                            </select>
                            <input type="text" id="searchSku"
                                class="form-control form-control-sm border-0 bg-transparent text-white"
                                placeholder="Search..." onkeyup="filterProducts()" />
                        </div>

                        <button onclick="document.getElementById('bulkImgInput').click()"
                            class="btn btn-outline-light btn-sm ms-2">
                            <i class="fas fa-cloud-upload-alt"></i> BULK IMG
                        </button>
                        <input type="file" id="bulkImgInput" class="d-none" onchange="processBulkImage(this)" />

                        <button id="btnSaveProd" onclick="saveProducts()" class="btn btn-neon btn-sm px-4 ms-2">
                            <i class="fas fa-save me-2"></i> SAVE CHANGES
                        </button>
                    </div>

                    <!-- TABLE -->
                    <div class="table-responsive" style="max-height: 65vh; overflow-y: auto">
                        <table class="table table-hover">
                            <thead class="sticky-top" style="z-index: 10; background: var(--bg-dark);">
                                <tr>
                                    <th width="40" class="text-center"><input type="checkbox"
                                            class="form-check-input bg-transparent border-secondary" id="selectAll"
                                            onclick="toggleSelectAll(this)" /></th>
                                    <th width="80">IMAGE</th>
                                    <th>PRODUCT NAME</th>
                                    <th width="80" class="text-center">HOT</th>
                                    <th width="120">BASE PRICE</th>
                                    <th width="120">MARKUP</th>
                                    <th width="120">SELL PRICE</th>
                                    <th width="80">STATUS</th>
                                </tr>
                            </thead>
                            <tbody id="productTable">
                                <!-- JS CONTENT -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- ASSETS TAB -->
            <div class="tab-pane fade" id="tab-assets">
                <div class="glass-card p-4">
                    <h5 class="text-info mb-4 border-bottom border-secondary pb-2">HOME SLIDERS</h5>
                    <div class="d-flex gap-3 mb-3 flex-wrap" id="sliderContainer"></div>
                    <label class="btn btn-outline-neon btn-sm">
                        <i class="fas fa-plus me-2"></i> ADD NEW SLIDER
                        <input type="file" id="uploadSlider" onchange="uploadNewSlider()" class="d-none" />
                    </label>

                    <h5 class="text-info mt-5 mb-4 border-bottom border-secondary pb-2">GAME BANNERS</h5>
                    <div id="bannerContainer" style="max-height: 400px; overflow-y: auto; padding-right: 10px;"></div>
                </div>
            </div>

            <!-- USERS TAB -->
            <div class="tab-pane fade" id="tab-users">
                <div class="glass-card p-4">
                    <div class="d-flex justify-content-between mb-4 border-bottom border-secondary pb-2">
                        <h5 class="text-info m-0">USER DATABASE</h5>
                        <button onclick="loadUsers()" class="btn btn-sm btn-outline-light"><i class="fas fa-redo"></i>
                            REFRESH</button>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>NAME</th>
                                <th>EMAIL</th>
                                <th>BALANCE (COIN)</th>
                                <th>ACTION</th>
                            </tr>
                        </thead>
                        <tbody id="userTableBody"></tbody>
                    </table>
                </div>
            </div>

            <!-- VOUCHERS TAB -->
            <div class="tab-pane fade" id="tab-vouchers">
                <div class="glass-card p-4">
                    <h5 class="text-info mb-4 border-bottom border-secondary pb-2">VOUCHER MANAGER</h5>

                    <div class="row g-2 mb-4 align-items-end p-3 rounded"
                        style="background: rgba(0,0,0,0.2); border: 1px dashed var(--border-glass);">
                        <div class="col-md-3">
                            <label class="small text-muted mb-1">CODE</label>
                            <input type="text" id="vCode"
                                class="form-control form-control-sm text-uppercase fw-bold text-warning"
                                placeholder="Ex: DISKON50">
                        </div>
                        <div class="col-md-3">
                            <label class="small text-muted mb-1">TYPE</label>
                            <select id="vType" class="form-select form-select-sm">
                                <option value="percent">Percentage (%)</option>
                                <option value="flat">Flat Amount (Rp)</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label class="small text-muted mb-1">VALUE</label>
                            <input type="number" id="vVal" class="form-control form-control-sm"
                                placeholder="0.5 or 5000">
                        </div>
                        <div class="col-md-3">
                            <button class="btn btn-neon btn-sm w-100" onclick="addVoucher()">
                                <i class="fas fa-rocket me-2"></i> DEPLOY VOUCHER
                            </button>
                        </div>
                    </div>

                    <table class="table">
                        <thead>
                            <tr>
                                <th>CODE</th>
                                <th>TYPE</th>
                                <th>VALUE</th>
                                <th>ACTION</th>
                            </tr>
                        </thead>
                        <tbody id="voucherTableBody"></tbody>
                    </table>
                </div>
            </div>

            <!-- API TAB -->
            <div class="tab-pane fade" id="tab-api">
                <div class="glass-card p-4" style="max-width: 800px;">
                    <h5 class="text-info mb-4 border-bottom border-secondary pb-2">SYSTEM INTEGRATION</h5>
                    <div class="row g-4">
                        <div class="col-md-6">
                            <div class="p-3 rounded border border-secondary" style="background: rgba(0,0,0,0.2);">
                                <h6 class="text-warning mb-3"><i class="fas fa-satellite-dish me-2"></i>DIGIFLAZZ</h6>
                                <div class="mb-2"><label class="small text-muted">USERNAME</label><input type="text"
                                        id="digi_user" class="form-control form-control-sm" /></div>
                                <div class="mb-2"><label class="small text-muted">API KEY</label><input type="password"
                                        id="digi_api" class="form-control form-control-sm" /></div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="p-3 rounded border border-secondary" style="background: rgba(0,0,0,0.2);">
                                <h6 class="text-warning mb-3"><i class="fas fa-credit-card me-2"></i>TRIPAY</h6>
                                <div class="mb-2"><label class="small text-muted">MERCHANT CODE</label><input
                                        type="text" id="tripay_merchant" class="form-control form-control-sm" /></div>
                                <div class="mb-2"><label class="small text-muted">API KEY</label><input type="password"
                                        id="tripay_api" class="form-control form-control-sm" /></div>
                                <div class="mb-2"><label class="small text-muted">PRIVATE KEY</label><input
                                        type="password" id="tripay_private" class="form-control form-control-sm" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <button onclick="saveConfig()" class="btn btn-neon mt-4 px-4"><i class="fas fa-save me-2"></i> SAVE
                        CONFIGURATION</button>
                </div>
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

    <script src="firebase-config.js"></script>
    <script src="admin.js"></script>
</body>

</html>